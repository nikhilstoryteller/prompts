name: prompts-fastapi
type: service
image:
  type: build
  build_spec:
    type: dockerfile
    dockerfile_path: ./Dockerfile
    build_context_path: ./
  # `build_source.branch_name` and `build_source.ref` will automatically be patched during deployment.
  build_source:
    ref: ec7ac6c4432635ed666a39fa622bfb47b72f5b5b
    type: git
    repo_url: >-
      https://github.com/saigirish7/truefoundry-fastapi-sg?id=cm11ttsla2jw201t2czledk1q
    branch_name: main
  docker_registry: storyteller:gcp:tfy-staging-asso:docker-registry:registry
ports:
  - host: test-fastapi-storyteller-staging-8000.app-staging.thestoryteller.tech
    port: 8000
    expose: true
    protocol: TCP
    app_protocol: http
mounts: []
replicas: 1
resources:
  node:
    type: node_selector
    capacity_type: spot_fallback_on_demand
  cpu_limit: 0.5
  cpu_request: 0.2
  memory_limit: 500
  memory_request: 200
  ephemeral_storage_limit: 2000
  ephemeral_storage_request: 1000
